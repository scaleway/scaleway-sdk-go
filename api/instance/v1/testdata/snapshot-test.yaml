---
version: 1
interactions:
- request:
    body: '{"name":"volume_name","project":"951df375-e094-4d26-97c1-ba548eeb9c42","volume_type":"b_ssd","size":1000000000}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64)
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/volumes
    method: POST
  response:
    body: '{"volume": {"id": "6ee0bb83-821b-422f-a993-49728a7e6677", "name": "volume_name",
      "volume_type": "b_ssd", "export_uri": null, "organization": "951df375-e094-4d26-97c1-ba548eeb9c42",
      "project": "951df375-e094-4d26-97c1-ba548eeb9c42", "server": null, "size": 1000000000,
      "state": "available", "creation_date": "2021-04-26T14:27:26.295902+00:00", "modification_date":
      "2021-04-26T14:27:26.295902+00:00", "zone": "fr-par-1"}}'
    headers:
      Content-Length:
      - "420"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 26 Apr 2021 14:27:26 GMT
      Location:
      - https://par1-cmp-prd-api01.internal.scaleway.com/volumes/6ee0bb83-821b-422f-a993-49728a7e6677
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - b4678737-8d8f-42c2-82de-fec957f4efe7
    status: 201 Created
    code: 201
    duration: ""
- request:
    body: '{"name":"name","volume_id":"6ee0bb83-821b-422f-a993-49728a7e6677","project":"951df375-e094-4d26-97c1-ba548eeb9c42"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64)
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots
    method: POST
  response:
    body: '{"snapshot": {"id": "1295096f-30ef-4d4c-b7b6-592ee0f8f96f", "name": "name",
      "volume_type": "b_ssd", "creation_date": "2021-04-26T14:27:26.705614+00:00",
      "modification_date": "2021-04-26T14:27:26.705614+00:00", "organization": "951df375-e094-4d26-97c1-ba548eeb9c42",
      "project": "951df375-e094-4d26-97c1-ba548eeb9c42", "size": 1000000000, "state":
      "snapshotting", "base_volume": {"id": "6ee0bb83-821b-422f-a993-49728a7e6677",
      "name": "volume_name"}, "zone": "fr-par-1"}}'
    headers:
      Content-Length:
      - "468"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 26 Apr 2021 14:27:27 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 22f40eee-2e7c-4879-b270-c46663777f83
    status: 201 Created
    code: 201
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64)
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots/1295096f-30ef-4d4c-b7b6-592ee0f8f96f
    method: GET
  response:
    body: '{"snapshot": {"id": "1295096f-30ef-4d4c-b7b6-592ee0f8f96f", "name": "name",
      "volume_type": "b_ssd", "creation_date": "2021-04-26T14:27:26.705614+00:00",
      "modification_date": "2021-04-26T14:27:26.705614+00:00", "organization": "951df375-e094-4d26-97c1-ba548eeb9c42",
      "project": "951df375-e094-4d26-97c1-ba548eeb9c42", "size": 1000000000, "state":
      "snapshotting", "base_volume": {"id": "6ee0bb83-821b-422f-a993-49728a7e6677",
      "name": "volume_name"}, "zone": "fr-par-1"}}'
    headers:
      Content-Length:
      - "468"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 26 Apr 2021 14:27:27 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 4ddfb05a-d3a0-4491-a3cb-bb1cd908e16d
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: '{"name":"new_name","organization":"951df375-e094-4d26-97c1-ba548eeb9c42","volume_type":"l_ssd","size":0,"state":"available","base_volume":null,"creation_date":"2021-04-26T14:27:26.705614Z","modification_date":"2021-04-26T14:27:26.705614Z","project":"951df375-e094-4d26-97c1-ba548eeb9c42"}'
    form: {}
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.16.3; darwin; amd64)
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/snapshots/1295096f-30ef-4d4c-b7b6-592ee0f8f96f
    method: PUT
  response:
    body: '{"type": "invalid_request_error", "message": "Validation Error", "fields":
      {"id": ["required key not provided"]}}'
    headers:
      Content-Length:
      - "113"
      Content-Security-Policy:
      - default-src 'none'; frame-ancestors 'none'
      Content-Type:
      - application/json
      Date:
      - Mon, 26 Apr 2021 14:27:27 GMT
      Server:
      - Scaleway API-Gateway
      Strict-Transport-Security:
      - max-age=63072000
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      X-Request-Id:
      - 9f4badcf-7587-4c72-a344-aa4f26d1cb5d
    status: 400 Bad Request
    code: 400
    duration: ""
