---
version: 2
interactions:
- id: 0
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 155
    host: api.scaleway.com
    body: "{\"name\":\"instance_utils_test\",\"commercial_type\":\"PRO2-XXS\",\"image\":\"81b9475d-e1b5-43c2-ac48-4c1a3b640686\",\"project\":\"105bdce1-64c0-48ab-899d-868455867ecf\"}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64)
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/servers
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 2164
    body: "{\"server\": {\"id\": \"699d9a45-968e-408e-bdd7-41546870c373\", \"name\": \"instance_utils_test\", \"arch\": \"x86_64\", \"commercial_type\": \"PRO2-XXS\", \"boot_type\": \"local\", \"organization\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"project\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"hostname\": \"instance-utils-test\", \"image\": {\"id\": \"81b9475d-e1b5-43c2-ac48-4c1a3b640686\", \"name\": \"Ubuntu 22.04 Jammy Jellyfish\", \"organization\": \"51b656e3-4865-41e8-adbc-0c45bdd780db\", \"project\": \"51b656e3-4865-41e8-adbc-0c45bdd780db\", \"root_volume\": {\"id\": \"235f1b04-c3f6-4245-9530-43fb642ff96d\", \"name\": \"Ubuntu 22.04 Jammy Jellyfish\", \"volume_type\": \"l_ssd\", \"size\": 10000000000}, \"extra_volumes\": {}, \"public\": true, \"arch\": \"x86_64\", \"creation_date\": \"2023-08-08T13:35:09.293489+00:00\", \"modification_date\": \"2023-08-08T13:35:09.293489+00:00\", \"default_bootscript\": null, \"from_server\": \"\", \"state\": \"available\", \"tags\": [], \"zone\": \"fr-par-1\"}, \"volumes\": {\"0\": {\"boot\": false, \"id\": \"103a6f60-0465-4758-ad97-954d211d0a05\", \"name\": \"Ubuntu 22.04 Jammy Jellyfish\", \"volume_type\": \"l_ssd\", \"export_uri\": null, \"organization\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"project\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"server\": {\"id\": \"699d9a45-968e-408e-bdd7-41546870c373\", \"name\": \"instance_utils_test\"}, \"size\": 10000000000, \"state\": \"available\", \"creation_date\": \"2025-09-05T15:45:56.437719+00:00\", \"modification_date\": \"2025-09-05T15:45:56.437719+00:00\", \"tags\": [], \"zone\": \"fr-par-1\"}}, \"tags\": [], \"state\": \"stopped\", \"protected\": false, \"state_detail\": \"\", \"public_ip\": null, \"public_ips\": [], \"mac_address\": \"de:00:00:c6:ec:bb\", \"routed_ip_enabled\": true, \"ipv6\": null, \"extra_networks\": [], \"dynamic_ip_required\": true, \"enable_ipv6\": false, \"private_ip\": null, \"creation_date\": \"2025-09-05T15:45:56.437719+00:00\", \"modification_date\": \"2025-09-05T15:45:56.437719+00:00\", \"bootscript\": null, \"security_group\": {\"id\": \"5881315f-2400-43a0-ac75-08adf6cb8c12\", \"name\": \"Default security group\"}, \"location\": null, \"maintenances\": [], \"allowed_actions\": [\"poweron\", \"backup\"], \"placement_group\": null, \"private_nics\": [], \"zone\": \"fr-par-1\", \"filesystems\": [], \"end_of_service\": false}}"
    headers:
      Content-Length:
      - "2164"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 15:45:56 GMT
      Location:
      - https://api.scaleway.com/instance/v1/zones/fr-par-1/servers/699d9a45-968e-408e-bdd7-41546870c373
      Server:
      - Scaleway API Gateway (fr-par-1;edge02)
      X-Request-Id:
      - 52050f72-7df7-4a21-86e4-9bb8984781e5
    status: 201 Created
    code: 201
    duration: 704.379364ms
- id: 1
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 50
    host: api.scaleway.com
    body: "{\"project\":\"105bdce1-64c0-48ab-899d-868455867ecf\"}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64)
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/ips
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 365
    body: "{\"ip\": {\"id\": \"65a60f6b-fa89-4e49-bc25-fced17fa3df3\", \"address\": \"51.15.236.240\", \"prefix\": null, \"reverse\": null, \"server\": null, \"organization\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"project\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"zone\": \"fr-par-1\", \"type\": \"routed_ipv4\", \"state\": \"detached\", \"tags\": [], \"ipam_id\": \"9daf2dd1-f284-43e5-8468-510d5865125e\"}}"
    headers:
      Content-Length:
      - "365"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 15:45:57 GMT
      Location:
      - https://api.scaleway.com/instance/v1/zones/fr-par-1/ips/65a60f6b-fa89-4e49-bc25-fced17fa3df3
      Server:
      - Scaleway API Gateway (fr-par-1;edge02)
      X-Request-Id:
      - d0f1e18b-fee4-4d07-ba20-93099638f70f
    status: 201 Created
    code: 201
    duration: 510.302077ms
- id: 2
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 49
    host: api.scaleway.com
    body: "{\"server\":\"699d9a45-968e-408e-bdd7-41546870c373\"}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64)
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/ips/65a60f6b-fa89-4e49-bc25-fced17fa3df3
    method: PATCH
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 438
    body: "{\"ip\": {\"id\": \"65a60f6b-fa89-4e49-bc25-fced17fa3df3\", \"address\": \"51.15.236.240\", \"prefix\": null, \"reverse\": null, \"server\": {\"id\": \"699d9a45-968e-408e-bdd7-41546870c373\", \"name\": \"instance_utils_test\"}, \"organization\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"project\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"zone\": \"fr-par-1\", \"type\": \"routed_ipv4\", \"state\": \"attached\", \"tags\": [], \"ipam_id\": \"9daf2dd1-f284-43e5-8468-510d5865125e\"}}"
    headers:
      Content-Length:
      - "438"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 15:45:57 GMT
      Server:
      - Scaleway API Gateway (fr-par-1;edge02)
      X-Request-Id:
      - 17809666-18b2-4600-94a9-6c5caa6ebe0f
    status: 200 OK
    code: 200
    duration: 500.045691ms
- id: 3
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 15
    host: api.scaleway.com
    body: "{\"server\":null}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64)
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/ips/65a60f6b-fa89-4e49-bc25-fced17fa3df3
    method: PATCH
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 365
    body: "{\"ip\": {\"id\": \"65a60f6b-fa89-4e49-bc25-fced17fa3df3\", \"address\": \"51.15.236.240\", \"prefix\": null, \"reverse\": null, \"server\": null, \"organization\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"project\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"zone\": \"fr-par-1\", \"type\": \"routed_ipv4\", \"state\": \"detached\", \"tags\": [], \"ipam_id\": \"9daf2dd1-f284-43e5-8468-510d5865125e\"}}"
    headers:
      Content-Length:
      - "365"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 15:45:58 GMT
      Server:
      - Scaleway API Gateway (fr-par-1;edge02)
      X-Request-Id:
      - e5a46e0c-d0ab-4208-a766-7430c3d214e3
    status: 200 OK
    code: 200
    duration: 393.804135ms
- id: 4
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64)
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/ips/65a60f6b-fa89-4e49-bc25-fced17fa3df3
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 15:45:58 GMT
      Server:
      - Scaleway API Gateway (fr-par-1;edge02)
      X-Request-Id:
      - eefeb3f7-37ef-4910-af3d-2d5657378e8a
    status: 204 No Content
    code: 204
    duration: 354.154457ms
- id: 5
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64)
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/volumes/103a6f60-0465-4758-ad97-954d211d0a05
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 523
    body: "{\"volume\": {\"id\": \"103a6f60-0465-4758-ad97-954d211d0a05\", \"name\": \"Ubuntu 22.04 Jammy Jellyfish\", \"volume_type\": \"l_ssd\", \"export_uri\": null, \"organization\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"project\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"server\": {\"id\": \"699d9a45-968e-408e-bdd7-41546870c373\", \"name\": \"instance_utils_test\"}, \"size\": 10000000000, \"state\": \"available\", \"creation_date\": \"2025-09-05T15:45:56.437719+00:00\", \"modification_date\": \"2025-09-05T15:45:56.437719+00:00\", \"tags\": [], \"zone\": \"fr-par-1\"}}"
    headers:
      Content-Length:
      - "523"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 15:45:58 GMT
      Server:
      - Scaleway API Gateway (fr-par-1;edge02)
      X-Request-Id:
      - 2b0b3193-952d-4555-80b0-d323f52adc40
    status: 200 OK
    code: 200
    duration: 97.681095ms
- id: 6
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 52
    host: api.scaleway.com
    body: "{\"volume_id\":\"103a6f60-0465-4758-ad97-954d211d0a05\"}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64)
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/servers/699d9a45-968e-408e-bdd7-41546870c373/detach-volume
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 1633
    body: "{\"server\": {\"id\": \"699d9a45-968e-408e-bdd7-41546870c373\", \"name\": \"instance_utils_test\", \"arch\": \"x86_64\", \"commercial_type\": \"PRO2-XXS\", \"boot_type\": \"local\", \"organization\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"project\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"hostname\": \"instance-utils-test\", \"image\": {\"id\": \"81b9475d-e1b5-43c2-ac48-4c1a3b640686\", \"name\": \"Ubuntu 22.04 Jammy Jellyfish\", \"organization\": \"51b656e3-4865-41e8-adbc-0c45bdd780db\", \"project\": \"51b656e3-4865-41e8-adbc-0c45bdd780db\", \"root_volume\": {\"id\": \"235f1b04-c3f6-4245-9530-43fb642ff96d\", \"name\": \"Ubuntu 22.04 Jammy Jellyfish\", \"volume_type\": \"l_ssd\", \"size\": 10000000000}, \"extra_volumes\": {}, \"public\": true, \"arch\": \"x86_64\", \"creation_date\": \"2023-08-08T13:35:09.293489+00:00\", \"modification_date\": \"2023-08-08T13:35:09.293489+00:00\", \"default_bootscript\": null, \"from_server\": \"\", \"state\": \"available\", \"tags\": [], \"zone\": \"fr-par-1\"}, \"volumes\": {}, \"tags\": [], \"state\": \"stopped\", \"protected\": false, \"state_detail\": \"\", \"public_ip\": null, \"public_ips\": [], \"mac_address\": \"de:00:00:c6:ec:bb\", \"routed_ip_enabled\": true, \"ipv6\": null, \"extra_networks\": [], \"dynamic_ip_required\": true, \"enable_ipv6\": false, \"private_ip\": null, \"creation_date\": \"2025-09-05T15:45:56.437719+00:00\", \"modification_date\": \"2025-09-05T15:45:56.437719+00:00\", \"bootscript\": null, \"security_group\": {\"id\": \"5881315f-2400-43a0-ac75-08adf6cb8c12\", \"name\": \"Default security group\"}, \"location\": null, \"maintenances\": [], \"allowed_actions\": [\"poweron\", \"backup\"], \"placement_group\": null, \"private_nics\": [], \"zone\": \"fr-par-1\", \"filesystems\": [], \"end_of_service\": false}}"
    headers:
      Content-Length:
      - "1633"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 15:45:59 GMT
      Server:
      - Scaleway API Gateway (fr-par-1;edge02)
      X-Request-Id:
      - ddb72102-68f7-4a26-ac20-c109b9bbcffb
    status: 200 OK
    code: 200
    duration: 482.727591ms
- id: 7
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64)
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/volumes/103a6f60-0465-4758-ad97-954d211d0a05
    method: GET
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 450
    body: "{\"volume\": {\"id\": \"103a6f60-0465-4758-ad97-954d211d0a05\", \"name\": \"Ubuntu 22.04 Jammy Jellyfish\", \"volume_type\": \"l_ssd\", \"export_uri\": null, \"organization\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"project\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"server\": null, \"size\": 10000000000, \"state\": \"available\", \"creation_date\": \"2025-09-05T15:45:56.437719+00:00\", \"modification_date\": \"2025-09-05T15:45:58.586238+00:00\", \"tags\": [], \"zone\": \"fr-par-1\"}}"
    headers:
      Content-Length:
      - "450"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 15:45:59 GMT
      Server:
      - Scaleway API Gateway (fr-par-1;edge02)
      X-Request-Id:
      - 70000c7d-ad18-4815-8ec1-e0a1a8f992f4
    status: 200 OK
    code: 200
    duration: 86.999801ms
- id: 8
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 74
    host: api.scaleway.com
    body: "{\"volume_id\":\"103a6f60-0465-4758-ad97-954d211d0a05\",\"volume_type\":\"l_ssd\"}"
    headers:
      Content-Type:
      - application/json
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64)
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/servers/699d9a45-968e-408e-bdd7-41546870c373/attach-volume
    method: POST
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 2164
    body: "{\"server\": {\"id\": \"699d9a45-968e-408e-bdd7-41546870c373\", \"name\": \"instance_utils_test\", \"arch\": \"x86_64\", \"commercial_type\": \"PRO2-XXS\", \"boot_type\": \"local\", \"organization\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"project\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"hostname\": \"instance-utils-test\", \"image\": {\"id\": \"81b9475d-e1b5-43c2-ac48-4c1a3b640686\", \"name\": \"Ubuntu 22.04 Jammy Jellyfish\", \"organization\": \"51b656e3-4865-41e8-adbc-0c45bdd780db\", \"project\": \"51b656e3-4865-41e8-adbc-0c45bdd780db\", \"root_volume\": {\"id\": \"235f1b04-c3f6-4245-9530-43fb642ff96d\", \"name\": \"Ubuntu 22.04 Jammy Jellyfish\", \"volume_type\": \"l_ssd\", \"size\": 10000000000}, \"extra_volumes\": {}, \"public\": true, \"arch\": \"x86_64\", \"creation_date\": \"2023-08-08T13:35:09.293489+00:00\", \"modification_date\": \"2023-08-08T13:35:09.293489+00:00\", \"default_bootscript\": null, \"from_server\": \"\", \"state\": \"available\", \"tags\": [], \"zone\": \"fr-par-1\"}, \"volumes\": {\"0\": {\"boot\": false, \"id\": \"103a6f60-0465-4758-ad97-954d211d0a05\", \"name\": \"Ubuntu 22.04 Jammy Jellyfish\", \"volume_type\": \"l_ssd\", \"export_uri\": null, \"organization\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"project\": \"105bdce1-64c0-48ab-899d-868455867ecf\", \"server\": {\"id\": \"699d9a45-968e-408e-bdd7-41546870c373\", \"name\": \"instance_utils_test\"}, \"size\": 10000000000, \"state\": \"available\", \"creation_date\": \"2025-09-05T15:45:56.437719+00:00\", \"modification_date\": \"2025-09-05T15:45:59.145445+00:00\", \"tags\": [], \"zone\": \"fr-par-1\"}}, \"tags\": [], \"state\": \"stopped\", \"protected\": false, \"state_detail\": \"\", \"public_ip\": null, \"public_ips\": [], \"mac_address\": \"de:00:00:c6:ec:bb\", \"routed_ip_enabled\": true, \"ipv6\": null, \"extra_networks\": [], \"dynamic_ip_required\": true, \"enable_ipv6\": false, \"private_ip\": null, \"creation_date\": \"2025-09-05T15:45:56.437719+00:00\", \"modification_date\": \"2025-09-05T15:45:56.437719+00:00\", \"bootscript\": null, \"security_group\": {\"id\": \"5881315f-2400-43a0-ac75-08adf6cb8c12\", \"name\": \"Default security group\"}, \"location\": null, \"maintenances\": [], \"allowed_actions\": [\"poweron\", \"backup\"], \"placement_group\": null, \"private_nics\": [], \"zone\": \"fr-par-1\", \"filesystems\": [], \"end_of_service\": false}}"
    headers:
      Content-Length:
      - "2164"
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 15:45:59 GMT
      Server:
      - Scaleway API Gateway (fr-par-1;edge02)
      X-Request-Id:
      - d8a3e6b6-d595-4850-9361-099e38ef4edb
    status: 200 OK
    code: 200
    duration: 553.499098ms
- id: 9
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64)
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/servers/699d9a45-968e-408e-bdd7-41546870c373
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 15:45:59 GMT
      Server:
      - Scaleway API Gateway (fr-par-1;edge02)
      X-Request-Id:
      - bc3c40ff-fdc7-4f6d-8685-12fdaea90ed1
    status: 204 No Content
    code: 204
    duration: 160.879067ms
- id: 10
  request:
    proto: HTTP/1.1
    proto_major: 1
    proto_minor: 1
    content_length: 0
    host: api.scaleway.com
    headers:
      User-Agent:
      - scaleway-sdk-go/v1.0.0-beta.7+dev (go1.24.1; linux; amd64)
    url: https://api.scaleway.com/instance/v1/zones/fr-par-1/volumes/103a6f60-0465-4758-ad97-954d211d0a05
    method: DELETE
  response:
    proto: HTTP/2.0
    proto_major: 2
    proto_minor: 0
    content_length: 0
    body: ""
    headers:
      Content-Type:
      - application/json
      Date:
      - Fri, 05 Sep 2025 15:46:00 GMT
      Server:
      - Scaleway API Gateway (fr-par-1;edge02)
      X-Request-Id:
      - a07df103-07cd-453a-b045-cc85f6dba4a8
    status: 204 No Content
    code: 204
    duration: 205.054386ms
